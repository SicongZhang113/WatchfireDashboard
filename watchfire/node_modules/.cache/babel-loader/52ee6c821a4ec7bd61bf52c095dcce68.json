{"ast":null,"code":"var _jsxFileName = \"/Users/mengwang/WatchfireDashboard/v5/src/component/visualization/LineChart.js\";\nimport React from 'react';\nimport { ComposedChart, Line, XAxis, YAxis, Label, ResponsiveContainer, Tooltip, Legend, Area } from 'recharts';\nimport Title from '../dashboard/Title';\nimport $ from \"jquery\";\nimport { withTheme } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nclass LineChart extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      data: this.createData(),\n      startDate: new Date()\n    };\n  }\n\n  createData() {\n    let data = [];\n    let i = 0;\n\n    for (i; i < 10; i++) {\n      data.push({\n        time: 0,\n        quantity: i,\n        firm_prediction: 0,\n        IBC_prediction: 0,\n        sd_interval: [10, 20]\n      });\n    }\n\n    return data;\n  }\n\n  componentDidMount() {\n    this.update();\n  }\n\n  update() {\n    $.get(\"api/select\", data => {\n      this.setState({\n        data: data\n      });\n    });\n  }\n\n  render() {\n    const handleChange_model = event => {\n      $.ajax({\n        type: \"POST\",\n        url: \"api/select\",\n        data: {\n          model: event.target.value\n        },\n        success: () => this.update(),\n        error: () => this.update()\n      }); //console.log(event.target.value)\n    };\n\n    function formatXAxis(str) {\n      // console.log(str)\n      var date = new Date(str),\n          month = (\"0\" + (date.getUTCMonth() + 1)).slice(-2),\n          day = (\"0\" + date.getUTCDate()).slice(-2);\n      return [date.getFullYear(), month, day].join(\"-\");\n    }\n\n    const handleChange_start = date => {\n      this.setState({\n        startDate: date\n      });\n      console.log(this.state.startDate);\n    };\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"age-native-simple\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Model\"), React.createElement(Select, {\n      native: true,\n      value: this.state.model,\n      onChange: handleChange_model,\n      inputProps: {\n        name: 'model',\n        id: 'age-native-simple'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: '2219',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"2219\"), React.createElement(\"option\", {\n      value: 'W8',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"W8\"), React.createElement(\"option\", {\n      value: 'W10',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"W10\"), React.createElement(\"option\", {\n      value: 'W16',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"W16\"), React.createElement(\"option\", {\n      value: 'W19',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"W19\"), React.createElement(\"option\", {\n      value: 'X8',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"X8\"), React.createElement(\"option\", {\n      value: 'X10',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"X10\"), React.createElement(\"option\", {\n      value: 'X16',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"X16\"), React.createElement(\"option\", {\n      value: 'X19',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"X19\"))), React.createElement(DatePicker, {\n      selected: this.state.startDate,\n      onChange: handleChange_start,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Quantity vs. Date\"), React.createElement(ResponsiveContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(ComposedChart, {\n      data: this.state.data,\n      margin: {\n        top: 16,\n        right: 16,\n        bottom: 0,\n        left: 34\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(XAxis, {\n      dataKey: \"time\",\n      tickFormatter: formatXAxis,\n      stroke: this.props.theme.palette.text.secondary,\n      padding: {\n        left: 30,\n        right: 30\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(YAxis, {\n      dataKey: \"quantity\",\n      stroke: this.props.theme.palette.text.secondary,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Label, {\n      angle: 270,\n      position: \"left\",\n      style: {\n        textAnchor: 'middle',\n        fill: this.props.theme.palette.text.primary\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Quantity\")), React.createElement(Tooltip, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(Legend, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(Line, {\n      type: \"monotone\",\n      dataKey: \"quantity\",\n      stroke: this.props.theme.palette.primary.main,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(Line, {\n      type: \"monotone\",\n      dataKey: \"IBC_prediction\",\n      stroke: \"#82ca9d\",\n      activeDot: {\n        r: 8\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(Line, {\n      type: \"monotone\",\n      dataKey: \"firm_prediction\",\n      stroke: \"#FF0000\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(Area, {\n      dataKey: \"sd_interval\",\n      stroke: \"#8884d8\",\n      fill: \"#8884d8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default withTheme(LineChart);","map":{"version":3,"sources":["/Users/mengwang/WatchfireDashboard/v5/src/component/visualization/LineChart.js"],"names":["React","ComposedChart","Line","XAxis","YAxis","Label","ResponsiveContainer","Tooltip","Legend","Area","Title","$","withTheme","FormControl","InputLabel","Select","DatePicker","LineChart","Component","constructor","state","data","createData","startDate","Date","i","push","time","quantity","firm_prediction","IBC_prediction","sd_interval","componentDidMount","update","get","setState","render","handleChange_model","event","ajax","type","url","model","target","value","success","error","formatXAxis","str","date","month","getUTCMonth","slice","day","getUTCDate","getFullYear","join","handleChange_start","console","log","name","id","top","right","bottom","left","props","theme","palette","text","secondary","textAnchor","fill","primary","main","r"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { ComposedChart, Line, XAxis, YAxis, Label, ResponsiveContainer, Tooltip, Legend,Area } from 'recharts';\nimport Title from '../dashboard/Title';\nimport $ from \"jquery\";\nimport { withTheme } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nclass LineChart extends React.Component{\n    constructor() {\n        super();\n        this.state = {\n            data: this.createData(),\n            startDate: new Date()\n        }\n    }\n\n    createData() {\n        let data = []\n        let i = 0;\n        for( i ; i < 10; i++) {\n            data.push({ time:0, quantity:i, firm_prediction:0, IBC_prediction: 0, sd_interval:[10,20]})\n        }\n        return data;\n    }\n\n    componentDidMount() {\n        this.update()\n    }\n\n\n    update() {\n        $.get(\"api/select\", (data) =>{\n            this.setState({data: data})\n        })\n    }\n\n\n    render() {\n    const handleChange_model = (event) => {\n        $.ajax({\n            type: \"POST\",\n            url: \"api/select\",\n            data: {model: event.target.value},\n            success: () => this.update(),\n            error: () => this.update()\n        });\n            //console.log(event.target.value)\n\n    };\n\n    function formatXAxis(str) {\n        // console.log(str)\n        var date = new Date(str),\n            month = (\"0\" + (date.getUTCMonth() + 1)).slice(-2),\n            day = (\"0\" + date.getUTCDate()).slice(-2);\n        return [date.getFullYear(), month, day].join(\"-\");\n    }\n    \n    const handleChange_start = date => {\n        this.setState({\n          startDate: date\n        });\n        console.log(this.state.startDate)\n    };\n\n    return (\n    <React.Fragment>\n        <FormControl >\n        <InputLabel htmlFor=\"age-native-simple\">Model</InputLabel>\n        <Select\n          native\n          value={this.state.model}\n          onChange={handleChange_model}\n          inputProps={{\n            name: 'model',\n            id: 'age-native-simple',\n\n          }}\n        >\n            <option value={'2219'}>2219</option>\n            <option value={'W8'}>W8</option>\n            <option value={'W10'}>W10</option>\n            <option value={'W16'}>W16</option>\n            <option value={'W19'}>W19</option>\n            <option value={'X8'}>X8</option>\n            <option value={'X10'}>X10</option>\n            <option value={'X16'}>X16</option>\n            <option value={'X19'}>X19</option>\n        </Select>\n      </FormControl>\n\n      <DatePicker\n        selected={this.state.startDate}\n        onChange={handleChange_start}\n      />\n\n      <Title>Quantity vs. Date</Title>\n      <ResponsiveContainer>\n        <ComposedChart\n          data={this.state.data}\n          margin={{\n            top: 16,\n            right: 16,\n            bottom: 0,\n            left: 34,\n          }}\n        >\n          <XAxis dataKey=\"time\"  tickFormatter={formatXAxis} stroke={this.props.theme.palette.text.secondary} padding={{ left: 30, right: 30 }}/>\n          <YAxis dataKey=\"quantity\" stroke={this.props.theme.palette.text.secondary}>\n            <Label\n              angle={270}\n              position=\"left\"\n              style={{ textAnchor: 'middle', fill: this.props.theme.palette.text.primary}}\n            >\n              Quantity\n            </Label>\n          </YAxis>\n            <Tooltip />\n            <Legend />\n          <Line type=\"monotone\" dataKey=\"quantity\" stroke={this.props.theme.palette.primary.main} />\n          <Line type=\"monotone\" dataKey=\"IBC_prediction\" stroke=\"#82ca9d\" activeDot={{ r: 8 }}/>\n          <Line type=\"monotone\" dataKey=\"firm_prediction\" stroke=\"#FF0000\" />\n          <Area dataKey=\"sd_interval\" stroke=\"#8884d8\" fill=\"#8884d8\" />\n        </ComposedChart>\n      </ResponsiveContainer>\n    </React.Fragment>\n    )\n    }\n}\nexport default withTheme(LineChart);\n\n\n\n"]},"metadata":{},"sourceType":"module"}