{"ast":null,"code":"var _jsxFileName = \"/Users/mengwang/WatchfireDashboard/v5/src/component/visualization/LineChart.js\";\nimport React from 'react';\nimport { ComposedChart, Line, XAxis, YAxis, Label, ResponsiveContainer, Tooltip, Legend, Area } from 'recharts';\nimport Title from '../dashboard/Title';\nimport $ from \"jquery\";\nimport { withTheme } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\n\nclass LineChart extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      data: this.createData()\n    };\n  }\n\n  createData() {\n    let data = [];\n    let i = 0;\n\n    for (i; i < 10; i++) {\n      data.push({\n        time: 0,\n        quantity: i,\n        firm_prediction: 0,\n        IBC_prediction: 0,\n        sd_interval: [10, 20]\n      });\n    }\n\n    return data;\n  }\n\n  componentDidMount() {\n    this.update();\n  }\n\n  convert(str) {\n    var date = new Date(str),\n        mnth = (\"0\" + (date.getMonth() + 1)).slice(-2),\n        day = (\"0\" + date.getDate()).slice(-2);\n    return [date.getFullYear(), mnth, day].join(\"-\");\n  }\n\n  update() {\n    $.get(\"api/select\", data => {\n      const newData = data.map(each => this.convert(each.time));\n      console.log(newData);\n      this.setState({\n        data: data\n      });\n    });\n  }\n\n  render() {\n    const handleChange = event => {\n      $.ajax({\n        type: \"POST\",\n        url: \"api/select\",\n        data: {\n          model: event.target.value\n        },\n        success: () => this.update(),\n        error: () => this.update()\n      }); //console.log(event.target.value)\n    };\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"age-native-simple\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Model\"), React.createElement(Select, {\n      native: true,\n      value: this.state.model,\n      onChange: handleChange,\n      inputProps: {\n        name: 'model',\n        id: 'age-native-simple'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: '2219',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"2219\"), React.createElement(\"option\", {\n      value: 'W8',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"W8\"), React.createElement(\"option\", {\n      value: 'W10',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"W10\"), React.createElement(\"option\", {\n      value: 'W16',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"W16\"), React.createElement(\"option\", {\n      value: 'W19',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"W19\"), React.createElement(\"option\", {\n      value: 'X8',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"X8\"), React.createElement(\"option\", {\n      value: 'X10',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"X10\"), React.createElement(\"option\", {\n      value: 'X16',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"X16\"), React.createElement(\"option\", {\n      value: 'X19',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"X19\"))), React.createElement(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Quantity vs. Date\"), React.createElement(ResponsiveContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(ComposedChart, {\n      data: this.state.data,\n      margin: {\n        top: 16,\n        right: 16,\n        bottom: 0,\n        left: 34\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(XAxis, {\n      dataKey: \"time\",\n      stroke: this.props.theme.palette.text.secondary,\n      padding: {\n        left: 30,\n        right: 30\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(YAxis, {\n      dataKey: \"quantity\",\n      stroke: this.props.theme.palette.text.secondary,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Label, {\n      angle: 270,\n      position: \"left\",\n      style: {\n        textAnchor: 'middle',\n        fill: this.props.theme.palette.text.primary\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Quantity\")), React.createElement(Tooltip, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(Legend, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(Line, {\n      type: \"monotone\",\n      dataKey: \"quantity\",\n      stroke: this.props.theme.palette.primary.main,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(Line, {\n      type: \"monotone\",\n      dataKey: \"IBC_prediction\",\n      stroke: \"#82ca9d\",\n      activeDot: {\n        r: 8\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(Line, {\n      type: \"monotone\",\n      dataKey: \"firm_prediction\",\n      stroke: \"#FF0000\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(Area, {\n      dataKey: \"sd_interval\",\n      stroke: \"#8884d8\",\n      fill: \"#8884d8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default withTheme(LineChart);","map":{"version":3,"sources":["/Users/mengwang/WatchfireDashboard/v5/src/component/visualization/LineChart.js"],"names":["React","ComposedChart","Line","XAxis","YAxis","Label","ResponsiveContainer","Tooltip","Legend","Area","Title","$","withTheme","FormControl","InputLabel","Select","LineChart","Component","constructor","state","data","createData","i","push","time","quantity","firm_prediction","IBC_prediction","sd_interval","componentDidMount","update","convert","str","date","Date","mnth","getMonth","slice","day","getDate","getFullYear","join","get","newData","map","each","console","log","setState","render","handleChange","event","ajax","type","url","model","target","value","success","error","name","id","top","right","bottom","left","props","theme","palette","text","secondary","textAnchor","fill","primary","main","r"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { ComposedChart, Line, XAxis, YAxis, Label, ResponsiveContainer, Tooltip, Legend,Area } from 'recharts';\nimport Title from '../dashboard/Title';\nimport $ from \"jquery\";\nimport { withTheme } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\n\nclass LineChart extends React.Component{\n    constructor() {\n        super();\n        this.state = {\n            data: this.createData()\n        }\n    }\n\n    createData() {\n        let data = []\n        let i = 0;\n        for( i ; i < 10; i++) {\n            data.push({ time:0, quantity:i, firm_prediction:0, IBC_prediction: 0, sd_interval:[10,20]})\n        }\n        return data;\n    }\n\n    componentDidMount() {\n        this.update()\n    }\n\n    convert(str) {\n        var date = new Date(str),\n          mnth = (\"0\" + (date.getMonth() + 1)).slice(-2),\n          day = (\"0\" + date.getDate()).slice(-2);\n        return [date.getFullYear(), mnth, day].join(\"-\");\n    }\n\n\n    update() {\n        $.get(\"api/select\", (data) =>{\n            const newData = data.map((each) => this.convert(each.time));\n            console.log(newData)\n            this.setState({data: data})\n        })\n    }\n\n\n    render() {\n    const handleChange = (event) => {\n        $.ajax({\n            type: \"POST\",\n            url: \"api/select\",\n            data: {model: event.target.value},\n            success: () => this.update(),\n            error: () => this.update()\n        });\n            //console.log(event.target.value)\n\n    };\n\n    return (\n    <React.Fragment>\n        <FormControl >\n        <InputLabel htmlFor=\"age-native-simple\">Model</InputLabel>\n        <Select\n          native\n          value={this.state.model}\n          onChange={handleChange}\n          inputProps={{\n            name: 'model',\n            id: 'age-native-simple',\n\n          }}\n        >\n            <option value={'2219'}>2219</option>\n            <option value={'W8'}>W8</option>\n            <option value={'W10'}>W10</option>\n            <option value={'W16'}>W16</option>\n            <option value={'W19'}>W19</option>\n            <option value={'X8'}>X8</option>\n            <option value={'X10'}>X10</option>\n            <option value={'X16'}>X16</option>\n            <option value={'X19'}>X19</option>\n        </Select>\n      </FormControl>\n\n      <Title>Quantity vs. Date</Title>\n      <ResponsiveContainer>\n        <ComposedChart\n          data={this.state.data}\n          margin={{\n            top: 16,\n            right: 16,\n            bottom: 0,\n            left: 34,\n          }}\n        >\n          <XAxis dataKey=\"time\"  stroke={this.props.theme.palette.text.secondary} padding={{ left: 30, right: 30 }}/>\n          <YAxis dataKey=\"quantity\" stroke={this.props.theme.palette.text.secondary}>\n            <Label\n              angle={270}\n              position=\"left\"\n              style={{ textAnchor: 'middle', fill: this.props.theme.palette.text.primary}}\n            >\n              Quantity\n            </Label>\n          </YAxis>\n            <Tooltip />\n            <Legend />\n          <Line type=\"monotone\" dataKey=\"quantity\" stroke={this.props.theme.palette.primary.main} />\n          <Line type=\"monotone\" dataKey=\"IBC_prediction\" stroke=\"#82ca9d\" activeDot={{ r: 8 }}/>\n          <Line type=\"monotone\" dataKey=\"firm_prediction\" stroke=\"#FF0000\" />\n          <Area dataKey=\"sd_interval\" stroke=\"#8884d8\" fill=\"#8884d8\" />\n        </ComposedChart>\n      </ResponsiveContainer>\n    </React.Fragment>\n    )\n    }\n}\nexport default withTheme(LineChart);\n\n\n\n"]},"metadata":{},"sourceType":"module"}